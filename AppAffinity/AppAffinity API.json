{"swagger":"2.0","info":{"description":"The API of the Nephele Application Affinity Service.","version":"1.0","title":"Application Affinity Service API","contact":{"name":"Marco Capitani","url":"http://www.nextworks.it","email":"m.capitani@nextworks.it"},"license":{"name":"API License","url":"API License URL"}},"host":"localhost:8080","basePath":"/","tags":[{"name":"aa-controller","description":"AA Controller"},{"name":"traffic-matrix-controller","description":"Traffic Matrix Controller"},{"name":"translator-controller","description":"Translator Controller"}],"paths":{"/affinity/connection":{"post":{"tags":["aa-controller"],"summary":"postConnection","operationId":"Post new Service","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"service","description":"service","required":true,"schema":{"$ref":"#/definitions/Service"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ConnectionResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/affinity/connection/{connID}":{"get":{"tags":["aa-controller"],"summary":"getConnectionById","operationId":"Get service status","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"connID","in":"path","description":"connID","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Service"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["aa-controller"],"summary":"deleteConnection","operationId":"Delete service","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"connID","in":"path","description":"connID","required":true,"type":"string"}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/affinity/connections":{"get":{"tags":["aa-controller"],"summary":"getConnections","operationId":"get service Id","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"type":"object"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/trafficmatrix/applicationprofile":{"post":{"tags":["traffic-matrix-controller"],"summary":"postAppProfile","operationId":"Post an app profile to be added","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"appProfile","description":"appProfile","required":true,"schema":{"$ref":"#/definitions/AppProfile"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/trafficmatrix/applicationprofile/{appProfileId}":{"delete":{"tags":["traffic-matrix-controller"],"summary":"DeleteAppProfile","operationId":"Delete an add profile","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"appProfileId","in":"path","description":"appProfileId","required":true,"type":"string"}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/trafficmatrix/matrix":{"get":{"tags":["traffic-matrix-controller"],"summary":"getMatrix","operationId":"Get the Traffic Matrix","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"type":"array","items":{"type":"integer","format":"int32"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/translate":{"post":{"tags":["translator-controller"],"summary":"postNetAllocMatrix","operationId":"Post network alocation matrix to be translated","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"networkAllocationSolution","description":"networkAllocationSolution","required":true,"schema":{"type":"array","items":{"type":"array","items":{"type":"integer","format":"int32"}}}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Inventory"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"OFMatch":{"type":"object","properties":{"inputPort":{"type":"string"}}},"OpendaylightEthernetType":{"type":"object","properties":{"type":{"type":"integer","format":"int32"}}},"Node":{"type":"object","properties":{"flowTable":{"type":"array","items":{"$ref":"#/definitions/FlowEntry"}},"nodeId":{"type":"string"}}},"Connection":{"type":"object","properties":{"Connection_type":{"type":"string","enum":["POINTTOPOINT","POINTTOMULTIPOINT"]},"Destination_end_point":{"$ref":"#/definitions/ConnectionEndPoint"},"Source_end_point":{"$ref":"#/definitions/ConnectionSource"},"Traffic_profile":{"$ref":"#/definitions/TrafficProfile"},"recovery":{"type":"string","enum":["UNPROTECTED","PROTECTED","FASTRECOVERY"]},"tunnel":{"$ref":"#/definitions/Tunnel"}}},"Service":{"type":"object","properties":{"connections":{"type":"array","description":"The tunnels to be opened","items":{"$ref":"#/definitions/Connection"}},"status":{"type":"string","description":"The status of the service","enum":["SCHEDULED","ESTABLISHING","ACTIVE","TERMINATING","DELETED"]}}},"AppProfile":{"type":"object","properties":{"connList":{"type":"array","description":"The list of tunnels required","items":{"$ref":"#/definitions/Tunnel"}},"id":{"type":"string","description":"The ID of the application profile"}}},"OpendaylightEthernetMatch":{"type":"object","properties":{"ethernet-type":{"$ref":"#/definitions/OpendaylightEthernetType"}}},"ConnectionResponse":{"type":"object","properties":{"Connection_ID":{"type":"string","description":"The ID of the service"},"status":{"type":"string","description":"The status of the service"}}},"ConnectionEndPoint":{"type":"object","properties":{"Node_ID":{"type":"string"},"Zone_ID":{"type":"string"}}},"TrafficProfile":{"type":"object","properties":{"Reserved_bandwidth":{"type":"integer","format":"int32"}}},"Tunnel":{"type":"object","properties":{"bandwidth":{"type":"integer","format":"int32"},"dest":{"type":"string"},"source":{"type":"string"}}},"ConnectionSource":{"type":"object","properties":{"Flow_Match":{"$ref":"#/definitions/OpendaylightMatch_Eth"},"Node_ID":{"type":"string"},"Zone_ID":{"type":"string"}}},"OpendaylightMatch_Eth":{"type":"object","properties":{"ethernet-match":{"$ref":"#/definitions/OpendaylightEthernetMatch"},"in-port":{"type":"string"},"ipv4-destination":{"type":"string"}}},"FlowEntry":{"type":"object","properties":{"match":{"$ref":"#/definitions/OFMatch"},"output":{"$ref":"#/definitions/OFOutput"}}},"Inventory":{"type":"object","properties":{"nodes":{"type":"object","additionalProperties":{"$ref":"#/definitions/Node"}}}},"OFOutput":{"type":"object","properties":{"outputPort":{"type":"string"}}}}}
