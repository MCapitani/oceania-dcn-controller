{"swagger":"2.0","info":{"description":"The API of the Nephele Application Affinity Service.","version":"1.0","title":"Application Affinity Service API","contact":{"name":"Marco Capitani","url":"http://www.nextworks.it","email":"m.capitani@nextworks.it"}},"host":"localhost:8089","basePath":"/","tags":[{"name":"app-affinity-controller","description":"App Affinity Controller"},{"name":"traffic-matrix-controller","description":"Traffic Matrix Controller"},{"name":"translator-controller","description":"Translator Controller"}],"paths":{"/affinity/connection":{"post":{"tags":["app-affinity-controller"],"summary":"postConnection","operationId":"Post new Service","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"service","description":"service","required":true,"schema":{"$ref":"#/definitions/Service"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ConnectionResponse"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/affinity/connection/{connID}":{"get":{"tags":["app-affinity-controller"],"summary":"getConnectionById","operationId":"Get service status","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"connID","in":"path","description":"connID","required":true,"type":"string"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Service"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}},"delete":{"tags":["app-affinity-controller"],"summary":"deleteConnection","operationId":"Delete service","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"connID","in":"path","description":"connID","required":true,"type":"string"}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/affinity/connections":{"get":{"tags":["app-affinity-controller"],"summary":"getConnections","operationId":"get service Id","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"type":"object"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/trafficmatrix/applicationprofile":{"post":{"tags":["traffic-matrix-controller"],"summary":"postAppProfile","operationId":"Post an app profile to be added","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"appProfile","description":"appProfile","required":true,"schema":{"$ref":"#/definitions/AppProfile"}}],"responses":{"200":{"description":"Success","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/trafficmatrix/applicationprofile/{appProfileId}":{"delete":{"tags":["traffic-matrix-controller"],"summary":"DeleteAppProfile","operationId":"Delete an add profile","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"appProfileId","in":"path","description":"appProfileId","required":true,"type":"string"}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"204":{"description":"No Content"},"403":{"description":"Forbidden"}}}},"/trafficmatrix/matrix":{"get":{"tags":["traffic-matrix-controller"],"summary":"getMatrix","operationId":"Get the Traffic Matrix","consumes":["application/json"],"produces":["*/*"],"responses":{"200":{"description":"Success","schema":{"type":"array","items":{"type":"array","items":{"type":"integer","format":"int32"}}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}},"/translate":{"post":{"tags":["translator-controller"],"summary":"postNetAllocMatrix","operationId":"Post network alocation matrix to be translated","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"networkAllocationSolution","description":"networkAllocationSolution","required":true,"schema":{"type":"array","items":{"type":"array","items":{"type":"integer","format":"int32"}}}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/Inventory"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}}}}},"definitions":{"Node":{"type":"object","properties":{"flowTable":{"type":"array","items":{"$ref":"#/definitions/FlowEntry"}},"nodeId":{"type":"string"}}},"Connection":{"type":"object","properties":{"Connection_type":{"type":"string","enum":["POINTTOPOINT","POINTTOMULTIPOINT"]},"Destination_end_point":{"$ref":"#/definitions/ConnectionEndPoint"},"Recovery":{"type":"string","enum":["UNPROTECTED","PROTECTED","FASTRECOVERY"]},"Source_end_point":{"$ref":"#/definitions/ConnectionSource"},"Traffic_profile":{"$ref":"#/definitions/TrafficProfile"}}},"Service":{"type":"object","properties":{"connections":{"type":"array","description":"The tunnels to be opened","items":{"$ref":"#/definitions/Connection"}},"status":{"type":"string","description":"The status of the service","enum":["SCHEDULED","ESTABLISHING","ACTIVE","TERMINATING","DELETED"]}}},"AppProfile":{"type":"object","properties":{"id":{"type":"string","description":"The ID of the application profile"},"tunnelList":{"type":"array","description":"The list of tunnels required","items":{"$ref":"#/definitions/Tunnel"}}}},"ConnectionResponse":{"type":"object","properties":{"Connection_ID":{"type":"string","description":"The ID of the service"},"status":{"type":"string","description":"The status of the service"}}},"ConnectionEndPoint":{"type":"object","properties":{"Pod_ID":{"type":"integer","format":"int32"},"ToR_ID":{"type":"integer","format":"int32"},"Zone_ID":{"type":"integer","format":"int32"}}},"TrafficProfile":{"type":"object","properties":{"Reserved_bandwidth":{"type":"integer","format":"int32"}}},"Tunnel":{"type":"object","properties":{"bandwidth":{"type":"integer","format":"int32"},"dest":{"type":"integer","format":"int32"},"source":{"type":"integer","format":"int32"}}},"OFComprehensiveMatch":{"type":"object","properties":{"address":{"type":"string"},"inputPort":{"type":"string"},"ip":{"type":"array","items":{"type":"integer","format":"int32"}},"lambda":{"type":"integer","format":"int32"},"timeBitmap":{"type":"string"}}},"OptOFOutput":{"type":"object","properties":{"lambda":{"type":"integer","format":"int32"},"outputPort":{"type":"string"},"timeBitmap":{"type":"string"}}},"ConnectionSource":{"type":"object","properties":{"Pod_ID":{"type":"integer","format":"int32"},"ToR_ID":{"type":"integer","format":"int32"},"Zone_ID":{"type":"integer","format":"int32"}}},"FlowEntry":{"type":"object","properties":{"match":{"$ref":"#/definitions/OFComprehensiveMatch"},"output":{"$ref":"#/definitions/OptOFOutput"}}},"Inventory":{"type":"object","properties":{"nodes":{"type":"object","additionalProperties":{"$ref":"#/definitions/Node"}}}}}}
